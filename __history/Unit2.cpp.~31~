// ---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "Unit2.h"
#include "Project1PCH1.h"
#include "Unit1.h"
#include "design.h"
// ---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma link "PraButtonStyle"
#pragma resource "*.dfm"
TForm2 *Form2;

// ---------------------------------------------------------------------------
__fastcall TForm2::TForm2(TComponent* Owner) : TForm(Owner) {
}
// ---------------------------------------------------------------------------

void __fastcall TForm2::PraButtonStyle27Click(TObject *Sender) {
	TDate sana = Date().CurrentDate();
	DataModule1->ADOQueryombor->Close();
	DataModule1->ADOQueryombor->SQL->Text =
		" insert into store(barcode,product_name,desc,category,list_price,min_price,volume,type,warranty_date,supplier_id,date,status) values('" +
		Edit1->Text.Trim() + "','" + Edit3->Text.Trim() + "','" +
		Edit6->Text.Trim() + "','" + ComboBox1->Text.Trim() + "','" +
		Edit2->Text.Trim() + "','" + Edit4->Text.Trim() + "','" +
		Edit5->Text.Trim() + "','" + ComboBox2->Text.Trim() + "','" +
		Edit7->Text.Trim() + "','" + Edit11->Text.Trim() + "','" + sana +
		"','" + Edit9->Text.Trim() + "')";
	DataModule1->ADOQueryombor->ExecSQL();
	DataModule1->ADOQueryombor->SQL->Text = "select * from store";
	DataModule1->ADOQueryombor->Open();

}
// ---------------------------------------------------------------------------


void __fastcall TForm2::FormShow(TObject *Sender) {
	DataModule1->ADOQueryombor->Close();
	DataModule1->ADOQueryombor->SQL->Text =
		" select * from store ";
	DataModule1->ADOQueryombor->Open();
	DataModule1->ADOQueryombor->First();
	for (int i = 0;
	i < DataModule1->ADOQueryombor->RecordCount; i++) {
		String fish = DataModule1->ADOQueryombor->FieldByName
			("category")->AsString;
		int id = DataModule1->ADOQueryombor->FieldByName("id")
			->AsInteger;
		if (fish == ComboBox1->Text) {
			Label1->Caption = IntToStr(id);
		}

		DataModule1->ADOQueryombor->Next();
	}
}
// ---------------------------------------------------------------------------
